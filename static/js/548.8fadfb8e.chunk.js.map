{"version":3,"file":"static/js/548.8fadfb8e.chunk.js","mappings":"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","sources":["../node_modules/media-captions/dist/chunks/parse-RKI23Y4F.js"],"sourcesContent":["import {\n  VTTCue,\n  parseVTTTimestamp\n} from \"./chunk-CFYCR57X.js\";\n\n// src/ssa/parse.ts\nvar FORMAT_START_RE = /^Format:[\\s\\t]*/;\nvar STYLE_START_RE = /^Style:[\\s\\t]*/;\nvar DIALOGUE_START_RE = /^Dialogue:[\\s\\t]*/;\nvar FORMAT_SPLIT_RE = /[\\s\\t]*,[\\s\\t]*/;\nvar STYLE_FUNCTION_RE = /\\{[^}]+\\}/g;\nvar NEW_LINE_RE = /\\\\N/g;\nvar STYLES_SECTION_START_RE = /^\\[(.*)[\\s\\t]?Styles\\]$/;\nvar EVENTS_SECTION_START_RE = /^\\[(.*)[\\s\\t]?Events\\]$/;\nvar SSAParser = class {\n  constructor() {\n    this.m = 0 /* None */;\n    this.a = null;\n    this.d = [];\n    this.p = [];\n    this.j = null;\n    this.K = {};\n  }\n  async init(init) {\n    this.f = init;\n    if (init.errors)\n      this.e = (await import(\"./errors-7ZCJBJFL.js\")).ParseErrorBuilder;\n  }\n  parse(line, lineCount) {\n    if (this.m) {\n      switch (this.m) {\n        case 1 /* Style */:\n          if (line === \"\") {\n            this.m = 0 /* None */;\n          } else if (STYLE_START_RE.test(line)) {\n            if (this.j) {\n              const styles = line.replace(STYLE_START_RE, \"\").split(FORMAT_SPLIT_RE);\n              this.U(styles);\n            } else {\n              this.h(this.e?.H(\"Style\", lineCount));\n            }\n          } else if (FORMAT_START_RE.test(line)) {\n            this.j = line.replace(FORMAT_START_RE, \"\").split(FORMAT_SPLIT_RE);\n          } else if (EVENTS_SECTION_START_RE.test(line)) {\n            this.j = null;\n            this.m = 2 /* Event */;\n          }\n          break;\n        case 2 /* Event */:\n          if (line === \"\") {\n            this.L();\n          } else if (DIALOGUE_START_RE.test(line)) {\n            this.L();\n            if (this.j) {\n              const dialogue = line.replace(DIALOGUE_START_RE, \"\").split(FORMAT_SPLIT_RE), cue = this.V(dialogue, lineCount);\n              if (cue)\n                this.a = cue;\n            } else {\n              this.h(this.e?.H(\"Dialogue\", lineCount));\n            }\n          } else if (this.a) {\n            this.a.text += \"\\n\" + line.replace(STYLE_FUNCTION_RE, \"\").replace(NEW_LINE_RE, \"\\n\");\n          } else if (FORMAT_START_RE.test(line)) {\n            this.j = line.replace(FORMAT_START_RE, \"\").split(FORMAT_SPLIT_RE);\n          } else if (STYLES_SECTION_START_RE.test(line)) {\n            this.j = null;\n            this.m = 1 /* Style */;\n          } else if (EVENTS_SECTION_START_RE.test(line)) {\n            this.j = null;\n          }\n      }\n    } else if (line === \"\") {\n    } else if (STYLES_SECTION_START_RE.test(line)) {\n      this.j = null;\n      this.m = 1 /* Style */;\n    } else if (EVENTS_SECTION_START_RE.test(line)) {\n      this.j = null;\n      this.m = 2 /* Event */;\n    }\n  }\n  done() {\n    return {\n      metadata: {},\n      cues: this.d,\n      regions: [],\n      errors: this.p\n    };\n  }\n  L() {\n    if (!this.a)\n      return;\n    this.d.push(this.a);\n    this.f.onCue?.(this.a);\n    this.a = null;\n  }\n  U(values) {\n    let name = \"Default\", styles = {}, outlineX, align = \"center\", vertical = \"bottom\", marginV, outlineY = 1.2, outlineColor, bgColor, borderStyle = 3, transform = [];\n    for (let i = 0; i < this.j.length; i++) {\n      const field = this.j[i], value = values[i];\n      switch (field) {\n        case \"Name\":\n          name = value;\n          break;\n        case \"Fontname\":\n          styles[\"font-family\"] = value;\n          break;\n        case \"Fontsize\":\n          styles[\"font-size\"] = `calc(${value} / var(--overlay-height))`;\n          break;\n        case \"PrimaryColour\":\n          const color = parseColor(value);\n          if (color)\n            styles[\"--cue-color\"] = color;\n          break;\n        case \"BorderStyle\":\n          borderStyle = parseInt(value, 10);\n          break;\n        case \"BackColour\":\n          bgColor = parseColor(value);\n          break;\n        case \"OutlineColour\":\n          const _outlineColor = parseColor(value);\n          if (_outlineColor)\n            outlineColor = _outlineColor;\n          break;\n        case \"Bold\":\n          if (parseInt(value))\n            styles[\"font-weight\"] = \"bold\";\n          break;\n        case \"Italic\":\n          if (parseInt(value))\n            styles[\"font-style\"] = \"italic\";\n          break;\n        case \"Underline\":\n          if (parseInt(value))\n            styles[\"text-decoration\"] = \"underline\";\n          break;\n        case \"StrikeOut\":\n          if (parseInt(value))\n            styles[\"text-decoration\"] = \"line-through\";\n          break;\n        case \"Spacing\":\n          styles[\"letter-spacing\"] = value + \"px\";\n          break;\n        case \"AlphaLevel\":\n          styles[\"opacity\"] = parseFloat(value);\n          break;\n        case \"ScaleX\":\n          transform.push(`scaleX(${parseFloat(value) / 100})`);\n          break;\n        case \"ScaleY\":\n          transform.push(`scaleY(${parseFloat(value) / 100})`);\n          break;\n        case \"Angle\":\n          transform.push(`rotate(${value}deg)`);\n          break;\n        case \"Shadow\":\n          outlineY = parseInt(value, 10) * 1.2;\n          break;\n        case \"MarginL\":\n          styles[\"--cue-width\"] = \"auto\";\n          styles[\"--cue-left\"] = parseFloat(value) + \"px\";\n          break;\n        case \"MarginR\":\n          styles[\"--cue-width\"] = \"auto\";\n          styles[\"--cue-right\"] = parseFloat(value) + \"px\";\n          break;\n        case \"MarginV\":\n          marginV = parseFloat(value);\n          break;\n        case \"Outline\":\n          outlineX = parseInt(value, 10);\n          break;\n        case \"Alignment\":\n          const alignment = parseInt(value, 10);\n          if (alignment >= 4)\n            vertical = alignment >= 7 ? \"top\" : \"center\";\n          switch (alignment % 3) {\n            case 1:\n              align = \"start\";\n              break;\n            case 2:\n              align = \"center\";\n              break;\n            case 3:\n              align = \"end\";\n              break;\n          }\n      }\n    }\n    styles.M = vertical;\n    styles[\"--cue-white-space\"] = \"normal\";\n    styles[\"--cue-line-height\"] = \"normal\";\n    styles[\"--cue-text-align\"] = align;\n    if (vertical === \"center\") {\n      styles[`--cue-top`] = \"50%\";\n      transform.push(\"translateY(-50%)\");\n    } else {\n      styles[`--cue-${vertical}`] = (marginV || 0) + \"px\";\n    }\n    if (borderStyle === 1) {\n      styles[\"--cue-padding-y\"] = \"0\";\n    }\n    if (borderStyle === 1 || bgColor) {\n      styles[\"--cue-bg-color\"] = borderStyle === 1 ? \"none\" : bgColor;\n    }\n    if (borderStyle === 3 && outlineColor) {\n      styles[\"--cue-outline\"] = `${outlineX}px solid ${outlineColor}`;\n    }\n    if (borderStyle === 1 && typeof outlineX === \"number\") {\n      const color = bgColor ?? \"#000\";\n      styles[\"--cue-text-shadow\"] = [\n        outlineColor && buildTextShadow(outlineX * 1.2, outlineY * 1.2, outlineColor),\n        outlineColor ? buildTextShadow(outlineX * (outlineX / 2), outlineY * (outlineX / 2), color) : buildTextShadow(outlineX, outlineY, color)\n      ].filter(Boolean).join(\", \");\n    }\n    if (transform.length)\n      styles[\"--cue-transform\"] = transform.join(\" \");\n    this.K[name] = styles;\n  }\n  V(values, lineCount) {\n    const fields = this.W(values);\n    const timestamp = this.o(fields.Start, fields.End, lineCount);\n    if (!timestamp)\n      return;\n    const cue = new VTTCue(timestamp[0], timestamp[1], \"\"), styles = { ...this.K[fields.Style] || {} }, voice = fields.Name ? `<v ${fields.Name}>` : \"\";\n    const vertical = styles.M, marginLeft = fields.MarginL && parseFloat(fields.MarginL), marginRight = fields.MarginR && parseFloat(fields.MarginR), marginV = fields.MarginV && parseFloat(fields.MarginV);\n    if (marginLeft) {\n      styles[\"--cue-width\"] = \"auto\";\n      styles[\"--cue-left\"] = marginLeft + \"px\";\n    }\n    if (marginRight) {\n      styles[\"--cue-width\"] = \"auto\";\n      styles[\"--cue-right\"] = marginRight + \"px\";\n    }\n    if (marginV && vertical !== \"center\") {\n      styles[`--cue-${vertical}`] = marginV + \"px\";\n    }\n    cue.text = voice + values.slice(this.j.length - 1).join(\", \").replace(STYLE_FUNCTION_RE, \"\").replace(NEW_LINE_RE, \"\\n\");\n    delete styles.M;\n    if (Object.keys(styles).length)\n      cue.style = styles;\n    return cue;\n  }\n  W(values) {\n    const fields = {};\n    for (let i = 0; i < this.j.length; i++) {\n      fields[this.j[i]] = values[i];\n    }\n    return fields;\n  }\n  o(startTimeText, endTimeText, lineCount) {\n    const startTime = parseVTTTimestamp(startTimeText), endTime = parseVTTTimestamp(endTimeText);\n    if (startTime !== null && endTime !== null && endTime > startTime) {\n      return [startTime, endTime];\n    } else {\n      if (startTime === null) {\n        this.h(this.e?.E(startTimeText, lineCount));\n      }\n      if (endTime === null) {\n        this.h(this.e?.F(endTimeText, lineCount));\n      }\n      if (startTime != null && endTime !== null && endTime > startTime) {\n        this.h(this.e?.G(startTime, endTime, lineCount));\n      }\n    }\n  }\n  h(error) {\n    if (!error)\n      return;\n    this.p.push(error);\n    if (this.f.strict) {\n      this.f.cancel();\n      throw error;\n    } else {\n      this.f.onError?.(error);\n    }\n  }\n};\nfunction parseColor(color) {\n  const abgr = parseInt(color.replace(\"&H\", \"\"), 16);\n  if (abgr >= 0) {\n    const a = abgr >> 24 & 255 ^ 255;\n    const alpha = a / 255;\n    const b = abgr >> 16 & 255;\n    const g = abgr >> 8 & 255;\n    const r = abgr & 255;\n    return \"rgba(\" + [r, g, b, alpha].join(\",\") + \")\";\n  }\n  return null;\n}\nfunction buildTextShadow(x, y, color) {\n  const noOfShadows = Math.ceil(2 * Math.PI * x);\n  let textShadow = \"\";\n  for (let i = 0; i < noOfShadows; i++) {\n    const theta = 2 * Math.PI * i / noOfShadows;\n    textShadow += x * Math.cos(theta) + \"px \" + y * Math.sin(theta) + \"px 0 \" + color + (i == noOfShadows - 1 ? \"\" : \",\");\n  }\n  return textShadow;\n}\nfunction createSSAParser() {\n  return new SSAParser();\n}\nexport {\n  SSAParser,\n  createSSAParser as default\n};\n"],"names":["FORMAT_START_RE","STYLE_START_RE","DIALOGUE_START_RE","FORMAT_SPLIT_RE","STYLE_FUNCTION_RE","NEW_LINE_RE","STYLES_SECTION_START_RE","EVENTS_SECTION_START_RE","SSAParser","_classCallCheck","this","m","a","d","p","j","K","_createClass","key","value","_init2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","init","wrap","_context","prev","next","f","errors","e","sent","ParseErrorBuilder","stop","_x","apply","arguments","line","lineCount","test","styles","replace","split","U","_this$e","h","H","L","dialogue","cue","V","_this$e2","text","metadata","cues","regions","_this$f$onCue","_this$f","push","onCue","call","values","outlineX","marginV","outlineColor","bgColor","name","align","vertical","outlineY","borderStyle","transform","i","length","field","concat","color","parseColor","parseInt","_outlineColor","parseFloat","alignment","M","_bgColor","buildTextShadow","filter","Boolean","join","fields","W","timestamp","o","Start","End","VTTCue","_objectSpread","Style","voice","Name","marginLeft","MarginL","marginRight","MarginR","MarginV","slice","Object","keys","style","startTimeText","endTimeText","_this$e3","_this$e4","_this$e5","startTime","parseVTTTimestamp","endTime","E","F","G","error","strict","cancel","_this$f$onError","_this$f2","onError","abgr","x","y","noOfShadows","Math","ceil","PI","textShadow","theta","cos","sin","createSSAParser"],"sourceRoot":""}